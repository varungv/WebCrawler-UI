{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\src\\\\components\\\\pageComponent.js\";\nimport React, { Component } from 'react';\nimport SiteHeader from './SiteHeader';\nimport CollapsiblePanel from './CollapsiblePanel';\nimport Form from './form';\nimport axios from 'axios';\nimport spinner from \"../react-logo.svg\";\nimport downloadCSVIcon from './icons/downloadCSV.png';\n\nvar PageComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageComponent, _Component);\n\n  function PageComponent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PageComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PageComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      linkLinks: [],\n      imageLinks: [],\n      latestResponseTime: 0,\n      isLoading: false\n    };\n\n    _this.toggleSpinner = function () {\n      _this.setState(_objectSpread({}, _this.state, {\n        isLoading: !_this.state.isLoading\n      }));\n    };\n\n    _this.downloadCSV = function () {\n      var csv_data = 'LinkType,Link\\n';\n\n      _this.state.linkLinks.forEach(function (link) {\n        csv_data += 'Link,' + link + '\\n';\n      });\n\n      _this.state.imageLinks.forEach(function (link) {\n        csv_data += 'Image,' + link + '\\n';\n      });\n\n      var a = document.createElement('a');\n      a.href = 'data:text/csv;charset=utf-16,' + encodeURI(csv_data);\n      a.target = '_blank';\n      a.download = 'Crawled_result_by_Gubbi.csv';\n      a.click();\n    };\n\n    _this.resetState = function () {\n      _this.setState({\n        linkLinks: [],\n        imageLinks: [],\n        latestResponseTime: 0,\n        isLoading: false\n      });\n    };\n\n    _this.makeCrawlRequest = function (url, numberOfLevels) {\n      var req_payload = {\n        url: [url],\n        numberOfLevels: [numberOfLevels.toString()]\n      };\n\n      _this.resetState();\n\n      _this.toggleSpinner();\n\n      var t0 = performance.now();\n      axios.post('http://localhost:8000/crawler/crawl/', req_payload).then(function (res) {\n        var t1 = performance.now();\n        var response_time = ((t1 - t0) / 1000).toFixed(3);\n\n        _this.toggleSpinner();\n\n        if (res.data.links.links.length || res.data.links.images.length) {\n          _this.setState(_objectSpread({}, _this.state, {\n            linkLinks: res.data.links.links,\n            imageLinks: res.data.links.images,\n            latestResponseTime: response_time\n          }));\n        }\n\n        if (res.data.msg) {\n          alert(res.data.msg);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PageComponent, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"dark-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(SiteHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"alert alert-warning top-margin-10 padding-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Note: We are skipping over any urls which are taking more than 5 seconds to maintan Performance\"), React.createElement(Form, {\n        makeCrawlRequest: this.makeCrawlRequest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), this.state.isLoading ? React.createElement(\"div\", {\n        className: \"spinner-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: spinner,\n        alt: \"Loading...\",\n        className: \"App-logo App-logo-spin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \"left-padding-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.state.linkLinks.length > 0 || this.state.imageLinks.length > 0 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-align-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-info margin-5\",\n        onClick: this.downloadCSV,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: downloadCSVIcon,\n        alt: \"\",\n        className: \"small-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"alert alert-info padding-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Scanned \", this.state.linkLinks.length + this.state.imageLinks.length, \" links in \", this.state.latestResponseTime, \" seconds!!\"))) : '', this.state.linkLinks.length > 0 && React.createElement(CollapsiblePanel, {\n        header: \"Links\",\n        linkList: this.state.linkLinks,\n        content: \"links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), this.state.imageLinks.length > 0 && React.createElement(CollapsiblePanel, {\n        header: \"Images\",\n        linkList: this.state.imageLinks,\n        content: \"images\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageComponent;\n}(Component);\n\nexport default PageComponent;","map":{"version":3,"sources":["C:\\Users\\Varun\\Desktop\\Freelance_projects\\WebCrawler\\webcrawler-ui\\src\\components\\pageComponent.js"],"names":["React","Component","SiteHeader","CollapsiblePanel","Form","axios","downloadCSVIcon","PageComponent","state","linkLinks","imageLinks","latestResponseTime","isLoading","toggleSpinner","setState","downloadCSV","csv_data","forEach","link","a","document","createElement","href","encodeURI","target","download","click","resetState","makeCrawlRequest","url","numberOfLevels","req_payload","toString","t0","performance","now","post","then","res","t1","response_time","toFixed","data","links","length","images","msg","alert","spinner"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport SiteHeader from './SiteHeader';\r\nimport CollapsiblePanel from './CollapsiblePanel';\r\nimport Form from './form';\r\nimport axios from 'axios';\r\nimport spinner from '../react-logo.svg';\r\nimport downloadCSVIcon from './icons/downloadCSV.png';\r\n\r\nclass PageComponent extends Component {\r\n    state = {\r\n        linkLinks: [],\r\n        imageLinks: [],\r\n        latestResponseTime: 0,\r\n        isLoading: false\r\n    }\r\n\r\n    toggleSpinner = () => {\r\n        this.setState({...this.state, isLoading: !this.state.isLoading});\r\n    }\r\n\r\n    downloadCSV = () => {\r\n        var csv_data = 'LinkType,Link\\n';\r\n        this.state.linkLinks.forEach(link => {\r\n            csv_data += 'Link,' + link + '\\n';\r\n        });\r\n        this.state.imageLinks.forEach(link => {\r\n            csv_data += 'Image,' + link + '\\n';\r\n        });\r\n        var a = document.createElement('a');\r\n        a.href = 'data:text/csv;charset=utf-16,' + encodeURI(csv_data);\r\n        a.target = '_blank';\r\n        a.download = 'Crawled_result_by_Gubbi.csv';\r\n        a.click();\r\n    }\r\n    resetState = () => {\r\n        this.setState({\r\n            linkLinks: [],\r\n            imageLinks: [],\r\n            latestResponseTime: 0,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n    makeCrawlRequest = (url, numberOfLevels) => {\r\n        var req_payload = {\r\n            url: [url],\r\n            numberOfLevels: [numberOfLevels.toString()]\r\n        }\r\n        this.resetState();\r\n        this.toggleSpinner();\r\n        var t0 = performance.now();\r\n        axios.post('http://localhost:8000/crawler/crawl/', req_payload)\r\n            .then(res => {\r\n                var t1 = performance.now();\r\n                var response_time = ((t1-t0)/1000).toFixed(3);\r\n                this.toggleSpinner();\r\n                if(res.data.links.links.length || res.data.links.images.length ){\r\n                    this.setState({...this.state, linkLinks: res.data.links.links, imageLinks: res.data.links.images, latestResponseTime: response_time});\r\n                }\r\n                if(res.data.msg){\r\n                    alert(res.data.msg);\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='dark-bg'>\r\n                <SiteHeader></SiteHeader>\r\n                <div className='alert alert-warning top-margin-10 padding-5'>\r\n                    Note: We are skipping over any urls which are taking more than 5 seconds to maintan Performance\r\n                </div>\r\n                \r\n                <Form makeCrawlRequest={this.makeCrawlRequest}/>\r\n                    \r\n                {this.state.isLoading ? (\r\n                    <div className=\"spinner-div\">\r\n                        <img src={spinner} alt='Loading...' className='App-logo App-logo-spin'/>\r\n                    </div>\r\n                ) : (\r\n                    <div className='left-padding-20'>\r\n                        {this.state.linkLinks.length > 0 || this.state.imageLinks.length > 0 ? (\r\n                            <div>\r\n                                <div className='text-align-right'>\r\n                                    <button className='btn btn-info margin-5' onClick={this.downloadCSV}>\r\n                                        <img src={downloadCSVIcon} alt='' className='small-icon'/>\r\n                                    </button>\r\n                                </div>\r\n                                <div class=\"alert alert-info padding-5\">\r\n                                    <strong>\r\n                                    Scanned {this.state.linkLinks.length + this.state.imageLinks.length} links in {this.state.latestResponseTime} seconds!!\r\n                                    </strong>\r\n                                </div>\r\n                            </div>\r\n                        ): ''}\r\n                            \r\n                            {this.state.linkLinks.length > 0 && (\r\n                                <CollapsiblePanel header='Links' linkList={this.state.linkLinks} content='links' />)}\r\n                            \r\n                            {this.state.imageLinks.length > 0 && (\r\n                            <CollapsiblePanel header='Images' linkList={this.state.imageLinks} content='images' />)}\r\n\r\n                            {/* <CollapsiblePanel header='WebsiteTree' linkList={this.state.linkLinks.concat(this.state.imageLinks)} content='tree' /> */}\r\n                        </div>\r\n                    )}\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n\r\nexport default PageComponent;\r\n"]},"metadata":{},"sourceType":"module"}