{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Varun\\\\Desktop\\\\Freelance_projects\\\\WebCrawler\\\\webcrawler-ui\\\\src\\\\components\\\\pageComponent.js\";\nimport React, { Component } from 'react';\nimport SiteHeader from './SiteHeader';\nimport CollapsiblePanel from './CollapsiblePanel';\nimport Form from './form';\nimport axios from 'axios';\nimport spinner from \"./loader.svg\";\nimport downloadCSVIcon from './icons/downloadCSV.png';\n\nvar PageComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageComponent, _Component);\n\n  function PageComponent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PageComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PageComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      linkLinks: ['1', '2'],\n      imageLinks: ['1', '2'],\n      isLoading: false\n    };\n\n    _this.toggleSpinner = function () {\n      _this.setState(_objectSpread({}, _this.state, {\n        isLoading: !_this.state.isLoading\n      }));\n    };\n\n    _this.downloadCSV = function () {\n      var csv_data = 'type,link\\n';\n\n      _this.state.linkLinks.forEach(function (link) {\n        csv_data = csv_data + 'Link,' + link + '\\n';\n      });\n\n      _this.state.imageLinks.forEach(function (link) {\n        csv_data = csv_data + 'Image,' + link + '\\n';\n      });\n\n      var a = document.createElement('a');\n      a.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv_data);\n      a.target = '_blank';\n      a.download = 'Crawled_by_Gubbi.csv';\n      a.click();\n    };\n\n    _this.resetState = function () {\n      _this.setState({\n        linkLinks: [],\n        imageLinks: [],\n        isLoading: false\n      });\n    };\n\n    _this.makeCrawlResuest = function (url, numberOfLevels) {\n      var req_payload = {\n        url: [url],\n        numberOfLevels: [numberOfLevels.toString()]\n      };\n\n      _this.resetState();\n\n      _this.toggleSpinner();\n\n      axios.post('http://localhost:8000/crawler/crawl/', req_payload).then(function (res) {\n        _this.toggleSpinner();\n\n        if (res.data.links) {\n          _this.setState(_objectSpread({}, _this.state, {\n            linkLinks: res.data.links.links,\n            imageLinks: res.data.links.images\n          }));\n        }\n\n        if (res.data.msg) {\n          alert(res.data.msg);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PageComponent, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"dark-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(SiteHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(Form, {\n        makeCrawlResuest: this.makeCrawlResuest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), this.state.isLoading ? React.createElement(\"div\", {\n        className: \"spinner-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: spinner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \"left-padding-20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-align-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-info margin-5\",\n        onClick: this.downloadCSV,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: downloadCSVIcon,\n        alt: \"\",\n        className: \"small-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }))), this.state.linkLinks.length > 0 && React.createElement(CollapsiblePanel, {\n        header: \"Links\",\n        linkList: this.state.linkLinks,\n        content: \"links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), this.state.imageLinks.length > 0 && React.createElement(CollapsiblePanel, {\n        header: \"Images\",\n        linkList: this.state.imageLinks,\n        content: \"images\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageComponent;\n}(Component);\n\nexport default PageComponent;","map":{"version":3,"sources":["C:\\Users\\Varun\\Desktop\\Freelance_projects\\WebCrawler\\webcrawler-ui\\src\\components\\pageComponent.js"],"names":["React","Component","SiteHeader","CollapsiblePanel","Form","axios","downloadCSVIcon","PageComponent","state","linkLinks","imageLinks","isLoading","toggleSpinner","setState","downloadCSV","csv_data","forEach","link","a","document","createElement","href","encodeURI","target","download","click","resetState","makeCrawlResuest","url","numberOfLevels","req_payload","toString","post","then","res","data","links","images","msg","alert","spinner","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport SiteHeader from './SiteHeader';\r\nimport CollapsiblePanel from './CollapsiblePanel';\r\nimport Form from './form';\r\nimport axios from 'axios';\r\nimport spinner from './loader.svg';\r\nimport downloadCSVIcon from './icons/downloadCSV.png';\r\n\r\nclass PageComponent extends Component {\r\n    state = {\r\n            linkLinks: ['1', '2'],\r\n            imageLinks: ['1', '2'],\r\n            isLoading: false\r\n    }\r\n\r\n    toggleSpinner = () => {\r\n        this.setState({...this.state, isLoading: !this.state.isLoading});\r\n    }\r\n\r\n    downloadCSV = () => {\r\n        var csv_data = 'type,link\\n';\r\n        this.state.linkLinks.forEach(link => {\r\n            csv_data = csv_data + 'Link,' + link + '\\n';\r\n        });\r\n        this.state.imageLinks.forEach(link => {\r\n            csv_data = csv_data + 'Image,' + link + '\\n';\r\n        });\r\n        var a = document.createElement('a');\r\n        a.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv_data);\r\n        a.target = '_blank';\r\n        a.download = 'Crawled_by_Gubbi.csv';\r\n        a.click();\r\n    }\r\n    resetState = () => {\r\n        this.setState({\r\n            linkLinks: [],\r\n            imageLinks: [],\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n    makeCrawlResuest = (url, numberOfLevels) => {\r\n        var req_payload = {\r\n            url: [url],\r\n            numberOfLevels: [numberOfLevels.toString()]\r\n        }\r\n        this.resetState();\r\n        this.toggleSpinner();\r\n        axios.post('http://localhost:8000/crawler/crawl/', req_payload)\r\n            .then(res => {\r\n                this.toggleSpinner();\r\n                if(res.data.links){\r\n                    this.setState({...this.state, linkLinks: res.data.links.links, imageLinks:res.data.links.images});\r\n                }\r\n                if(res.data.msg){\r\n                    alert(res.data.msg);\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='dark-bg'>\r\n                <SiteHeader></SiteHeader>\r\n                <Form makeCrawlResuest={this.makeCrawlResuest}/>\r\n                    \r\n                    {this.state.isLoading ? (\r\n                        <div className=\"spinner-div\">\r\n                            <img src={spinner} />\r\n                        </div>\r\n                    ) : (\r\n                        <div className='left-padding-20'>\r\n                            <div className='text-align-right'>\r\n                                <button className='btn btn-info margin-5' onClick={this.downloadCSV}>\r\n                                    <img src={downloadCSVIcon} alt='' className='small-icon'/>\r\n                                </button>\r\n                            </div>\r\n                            {this.state.linkLinks.length > 0 && (\r\n                                <CollapsiblePanel header='Links' linkList={this.state.linkLinks} content='links' />)}\r\n                            \r\n                            {this.state.imageLinks.length > 0 && (\r\n                            <CollapsiblePanel header='Images' linkList={this.state.imageLinks} content='images' />)}\r\n                        </div>\r\n                    )}\r\n            </div>\r\n        );\r\n        }\r\n    }\r\n\r\nexport default PageComponent;\r\n"]},"metadata":{},"sourceType":"module"}